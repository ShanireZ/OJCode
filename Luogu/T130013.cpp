#include <iostream>
#include <string>
using namespace std;
string sign[25] = {"...........................,]]OOO@@@@OOO]`........",
                   "....................,]OO@@@@@@@@@@@@@@@@@@@@O`....",
                   "................./O@@@@@@@@@@@@@@@@@@@@@@@@@@@@^..",
                   "............../O@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@.",
                   "..........,/@@@@@@@@@@@@O/[.............[O@@@@@@@\\",
                   "........,O@@@@@@@@@@O/`..................,O@@@@@@O",
                   ".......O@@@@@@@@@O`......]OO@@@O\\`........O@@@@@@@",
                   ".....,O@@@@@@@@/`.....]O@@@@@@@@@@^.......O@@@@@@@",
                   "...,/@@@@@@@O/...../@@@@@@@@@@@@@@O....../@@@@@@@0",
                   "..=@@@@@@@O`...../@@@@@@@@@@@@@@@@^.....O@@@@@@@O.",
                   "./@@@@@@@/......O@@@@@@@@@@@@@@@O`..../@@@@@@@@O..",
                   "=@@@@@@@O......O@@@@@@@@@@@@@@@^....O@@@@@@@@@O...",
                   "O@@@@@@@^.....=@@@@@@@@@@@@@O[..../@@@@@@@@@O`....",
                   "@@@@@@@O.......\\@@@@@@@@O[...../O@@@@@@@@@O`......",
                   "@@@@@@@@^.........[`.......]OO@@@@@@@@@@O`........",
                   "O@@@@@@@@O\\............]/@@@@@@@@@@@@O/...........",
                   "=@@@@@@@OOOoo`........O@@@@@@@@@@@@/`.............",
                   "..\\OOOOO*,`*..........O@@@@@@@@@O`................",
                   ".....,[[..............O@@@@@@O`...................",
                   "......................O@@@@@@O...................."};
char ans[1005][2005];
int main()
{
    int n, h, w;
    cin >> n >> h >> w;
    for (int i = 0; i < h; i++)
    {
        for (int j = 0; j < w; j++)
        {
            ans[i][j] = '.';
        }
    }
    for (int i = 1; i <= n; i++)
    {
        int x, y, r;
        cin >> x >> y >> r;
        for (int ex = 0; ex < 20; ex++)
        {
            int px = x + ex;
            if (px < 0 || px >= h)
            {
                continue;
            }
            for (int ey = 0; ey < 50; ey++)
            {
                int py = y + ey;
                if (py < 0 || py >= w)
                {
                    continue;
                }
                if (r == 0)
                {
                    if (sign[ex][ey] != '.')
                    {
                        ans[px][py] = sign[ex][ey];
                    }
                }
                else
                {
                    if (sign[19 - ex][49 - ey] != '.')
                    {
                        ans[px][py] = sign[19 - ex][49 - ey];
                    }
                }
            }
        }
    }
    for (int i = 0; i < h; i++)
    {
        for (int j = 0; j < w; j++)
        {
            cout << ans[i][j];
        }
        cout << endl;
    }
    return 0;
}